PRINT_STR MACRO STR
LEA DX,STR
MOV AH,09H
INT 21H
ENDM

PRINT_C MACRO	; DISPLAYS VALUE OF DL
MOV AH,02H
INT 21H
ENDM

SCAN_C MACRO
MOV AH,01H
INT 21H
ENDM

FINISH MACRO
MOV AH,4CH
INT 21H
ENDM

.MODEL SMALL
.DATA
	STR1	DB	'ENTER THE 4 DIGIT DECIMAL NUMBER(E.G ENTER 13 AS 0013)',10,13,'$'
	NUM4	DB	0
	NUM3	DB	0
	NUM2	DB	0
	NUM1	DB	0
	NUM	DW	0
	STR2	DB	10,13,'THE HEX CONVERSION IS: ',10,13,'$'
	
.CODE
	MOV AX,@DATA
	MOV DS,AX
	
	PRINT_STR STR1
	
	SCAN_C				;SCAN 4TH PLACE
	SUB AL,30H
	MOV NUM4,AL
	
	SCAN_C				;SCAN 3RD PLACE
	SUB AL,30H
	MOV NUM3,AL
	
	SCAN_C				;SCAN 2ND PLACE
	SUB AL,30H
	MOV NUM2,AL
	
	SCAN_C				;SCAN 1ST PLACE
	SUB AL,30H
	MOV NUM1,AL

	PRINT_STR STR2

	XOR AX,AX			;MULTIPLY 4TH PLACE WITH 1000(3E8)
	MOV AL,NUM4
	MOV CX,03E8H
	MUL CX
	ADD NUM,AX			;ADD 4TH DIGIT TO SUM
	MOV BX,NUM
	
	XOR AX,AX			;MULTIPLY 3RD PLACE WITH 100(64)
	MOV AL,NUM3
	MOV CX,0064H
	MUL CX
	ADD NUM,AX			;ADD 3RD DIGIT TO SUM
	MOV BX,NUM

	XOR AX,AX			;MULTIPLY 2ND PLACE WITH 10(A)	
	MOV AL,NUM2
	MOV CL,0AH
	MUL CL
	ADD NUM,AX			;ADD 2ND DIGIT TO SUM
	MOV BX,NUM

	XOR AX,AX
	MOV AL,NUM1
	ADD NUM,AX			;ADD FIRST DIGIT TO SUM
	MOV BX,NUM

	MOV CX,0004H
	
	ROL BH,CL			;ROTATE BH TO LEFT BY 4
	AND BH,0FH			;BH NOW CONTAINS 4TH PLACE
	MOV DL,BH
	CMP DL,10
	JGE ALPHA4;NOTLESS
	JMP NUMERIC4
		NUMERIC4:
			ADD DL,30H
			PRINT_C
			JMP BOTH4
		ALPHA4:
			ADD DL,37H
			PRINT_C
			JMP BOTH4
	BOTH4:				;TO END IF-ELSE CONDITIONAL
	
	MOV BX,NUM			;REPLACE BX WITH ACTUAL VALUE AGAIN
	AND BH,0FH			;BH NOW CONTAINS 3RD PLACE
	MOV DL,BH
	CMP DL,10
	JGE ALPHA3;NOTLESS
	JMP NUMERIC3
		NUMERIC3:
			ADD DL,30H
			PRINT_C
			JMP BOTH3
		ALPHA3:
			ADD DL,37H
			PRINT_C
			JMP BOTH3
	BOTH3:				;TO END IF-ELSE CONDITIONAL
	
	ROL BL,CL			;ROTATE BL TO LEFT BY 4
	AND BL,0FH			;BH NOW CONTAINS 2ND PLACE
	MOV DL,BL
	CMP DL,10
	JGE ALPHA2;NOTLESS
	JMP NUMERIC2
		NUMERIC2:
			ADD DL,30H
			PRINT_C
			JMP BOTH2
		ALPHA2:
			ADD DL,37H
			PRINT_C
			JMP BOTH2
	BOTH2:				;TO END IF-ELSE CONDITIONAL
	
	MOV BX,NUM			;REPLACE BX WITH ACTUAL VALUE AGAIN
	AND BL,0FH			;BH NOW CONTAINS 3RD PLACE
	MOV DL,BL
	CMP DL,10
	JGE ALPHA;NOTLESS
	JMP NUMERIC
		NUMERIC:
			ADD DL,30H
			PRINT_C
			JMP BOTH
		ALPHA:
			ADD DL,37H
			PRINT_C
			JMP BOTH
	BOTH:				;TO END IF-ELSE CONDITIONAL
	
	FINISH
END
